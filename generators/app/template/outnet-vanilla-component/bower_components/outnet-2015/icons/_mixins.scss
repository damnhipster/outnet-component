$spriteDimensions: (
        "iconDimension": 12px,
        "spriteWidth": 12px,
        "spriteHeight": 342px
);

$iconsMap: (
        'black': (arrow-down: 0px, arrow-left: -29px, arrow-right: -57px, arrow-up: -98px, cross: -126px, minus: -154px, plus: -182px, search: -210px, arrow-right-lrg: -237px, arrow-left-lrg:-254px),
        'grey': (arrow-down: -14px, arrow-left: -42px, arrow-right: -70px, arrow-up: -112px, cross: -140px, minus: -168px, plus: -196px, search: -224px, arrow-right-lrg: -271px, arrow-left-lrg:-289px),
        'white': (arrow-right: -84px),
);

$iconColours: map-keys($iconsMap);

// Expects coordinates from the top-left corner, as you would for normal background-position usage
// This will turn the coordinates into percentages, allowing icons to scale using width and height properties
@mixin sprite_location($x, $y, $spriteDimensions) {
  $spriteWidth: map_get($spriteDimensions, "spriteWidth");
  $spriteHeight: map_get($spriteDimensions, "spriteHeight");
  $iconDimension: map_get($spriteDimensions, "iconDimension");

  background-position: (($x / $spriteWidth * 100%) * -1) (($y / ($spriteHeight - $iconDimension) * 100%) * -1);
}

@mixin create_icons($colour) {
  @each $icon, $y in map-get($iconsMap, '#{$colour}') {
    .icon-#{$icon}-#{$colour} {
      &:before {
        @content;
        @include sprite_location(0px, $y, $spriteDimensions);
      }
    }
  }
}